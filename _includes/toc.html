<nav class="site-toc">
  {% assign pages = site.pages | sort: "weight" %}
  {% for page in pages %}
    {% if page.title %}
      <a class="page-link" href="{{ page.url | prepend: site.baseurl }}">{{ page.title }}</a>
      {% if page.subnav %}
        <ul>
          {% for subnav in page.subnav %}
            <li>
              <a href={{ site.baseurl }}{{ page.url }}{{ subnav | downcase | prepend : "#"}}>{{ subnav }}</a>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endif %}
  {% endfor %}
</nav>
